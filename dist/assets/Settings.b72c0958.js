import{g as j,at as _,h as y,T,aL as re,r as d,i as U,d as z,j as o,_ as g,e as J,f as G,aO as se,bg as V,bh as q,aV as ie,bi as ce,a as k,b as B,ax as le,aW as de,bj as ue,aK as Q,an as pe,ao as ge,ap as Z,F as ee,aU as he,S as $,am as K,al as E,B as W}from"./index.6f29d54c.js";import{I as xe,d as fe,a as me}from"./VisibilityOff.05d98fa8.js";import{C as Ce}from"./Close.78029c4a.js";import{T as be}from"./TextField.d0c16b0f.js";import{D as ve,a as ke,b as we,c as ye}from"./DialogTitle.102bca73.js";import{G as Se}from"./Select.5c46e07a.js";function De(e){return j("MuiDialogContentText",e)}_("MuiDialogContentText",["root"]);const Me=["children","className"],Ee=e=>{const{classes:t}=e,a=G({root:["root"]},De,t);return g({},t,a)},Te=y(T,{shouldForwardProp:e=>re(e)||e==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Re=d.exports.forwardRef(function(t,n){const a=U({props:t,name:"MuiDialogContentText"}),{className:i}=a,u=z(a,Me),p=Ee(u);return o(Te,g({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:u,className:J(p.root,i)},a,{classes:p}))}),Oe=Re;function Pe(e={}){const{autoHideDuration:t=null,disableWindowBlurListener:n=!1,onClose:a,open:i,resumeHideDuration:u}=e,p=se();d.exports.useEffect(()=>{if(!i)return;function r(s){s.defaultPrevented||(s.key==="Escape"||s.key==="Esc")&&(a==null||a(s,"escapeKeyDown"))}return document.addEventListener("keydown",r),()=>{document.removeEventListener("keydown",r)}},[i,a]);const C=V((r,s)=>{a==null||a(r,s)}),f=V(r=>{!a||r==null||p.start(r,()=>{C(null,"timeout")})});d.exports.useEffect(()=>(i&&f(t),p.clear),[i,t,f,p]);const x=r=>{a==null||a(r,"clickaway")},h=p.clear,m=d.exports.useCallback(()=>{t!=null&&f(u!=null?u:t*.5)},[t,u,f]),S=r=>s=>{const c=r.onBlur;c==null||c(s),m()},D=r=>s=>{const c=r.onFocus;c==null||c(s),h()},b=r=>s=>{const c=r.onMouseEnter;c==null||c(s),h()},M=r=>s=>{const c=r.onMouseLeave;c==null||c(s),m()};return d.exports.useEffect(()=>{if(!n&&i)return window.addEventListener("focus",m),window.addEventListener("blur",h),()=>{window.removeEventListener("focus",m),window.removeEventListener("blur",h)}},[n,i,m,h]),{getRootProps:(r={})=>{const s=g({},q(e),q(r));return g({role:"presentation"},r,s,{onBlur:S(s),onFocus:D(s),onMouseEnter:b(s),onMouseLeave:M(s)})},onClickAway:x}}function Ie(e){return j("MuiSnackbarContent",e)}_("MuiSnackbarContent",["root","message","action"]);const Le=["action","className","message","role"],Ae=e=>{const{classes:t}=e;return G({root:["root"],action:["action"],message:["message"]},Ie,t)},Fe=y(ie,{name:"MuiSnackbarContent",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>{const t=e.palette.mode==="light"?.8:.98,n=ce(e.palette.background.default,t);return g({},e.typography.body2,{color:e.vars?e.vars.palette.SnackbarContent.color:e.palette.getContrastText(n),backgroundColor:e.vars?e.vars.palette.SnackbarContent.bg:n,display:"flex",alignItems:"center",flexWrap:"wrap",padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,flexGrow:1,[e.breakpoints.up("sm")]:{flexGrow:"initial",minWidth:288}})}),ze=y("div",{name:"MuiSnackbarContent",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),Be=y("div",{name:"MuiSnackbarContent",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:16,marginRight:-8}),He=d.exports.forwardRef(function(t,n){const a=U({props:t,name:"MuiSnackbarContent"}),{action:i,className:u,message:p,role:C="alert"}=a,f=z(a,Le),x=a,h=Ae(x);return k(Fe,g({role:C,square:!0,elevation:6,className:J(h.root,u),ownerState:x,ref:n},f,{children:[o(ze,{className:h.message,ownerState:x,children:p}),i?o(Be,{className:h.action,ownerState:x,children:i}):null]}))}),We=He;function Ne(e){return j("MuiSnackbar",e)}_("MuiSnackbar",["root","anchorOriginTopCenter","anchorOriginBottomCenter","anchorOriginTopRight","anchorOriginBottomRight","anchorOriginTopLeft","anchorOriginBottomLeft"]);const $e=["onEnter","onExited"],je=["action","anchorOrigin","autoHideDuration","children","className","ClickAwayListenerProps","ContentProps","disableWindowBlurListener","message","onBlur","onClose","onFocus","onMouseEnter","onMouseLeave","open","resumeHideDuration","TransitionComponent","transitionDuration","TransitionProps"],_e=e=>{const{classes:t,anchorOrigin:n}=e,a={root:["root",`anchorOrigin${B(n.vertical)}${B(n.horizontal)}`]};return G(a,Ne,t)},Y=y("div",{name:"MuiSnackbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`anchorOrigin${B(n.anchorOrigin.vertical)}${B(n.anchorOrigin.horizontal)}`]]}})(({theme:e,ownerState:t})=>{const n={left:"50%",right:"auto",transform:"translateX(-50%)"};return g({zIndex:(e.vars||e).zIndex.snackbar,position:"fixed",display:"flex",left:8,right:8,justifyContent:"center",alignItems:"center"},t.anchorOrigin.vertical==="top"?{top:8}:{bottom:8},t.anchorOrigin.horizontal==="left"&&{justifyContent:"flex-start"},t.anchorOrigin.horizontal==="right"&&{justifyContent:"flex-end"},{[e.breakpoints.up("sm")]:g({},t.anchorOrigin.vertical==="top"?{top:24}:{bottom:24},t.anchorOrigin.horizontal==="center"&&n,t.anchorOrigin.horizontal==="left"&&{left:24,right:"auto"},t.anchorOrigin.horizontal==="right"&&{right:24,left:"auto"})})}),Ue=d.exports.forwardRef(function(t,n){const a=U({props:t,name:"MuiSnackbar"}),i=le(),u={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{action:p,anchorOrigin:{vertical:C,horizontal:f}={vertical:"bottom",horizontal:"left"},autoHideDuration:x=null,children:h,className:m,ClickAwayListenerProps:S,ContentProps:D,disableWindowBlurListener:b=!1,message:M,open:R,TransitionComponent:r=Se,transitionDuration:s=u,TransitionProps:{onEnter:c,onExited:O}={}}=a,P=z(a.TransitionProps,$e),I=z(a,je),v=g({},a,{anchorOrigin:{vertical:C,horizontal:f},autoHideDuration:x,disableWindowBlurListener:b,TransitionComponent:r,transitionDuration:s}),L=_e(v),{getRootProps:A,onClickAway:F}=Pe(g({},v)),[l,w]=d.exports.useState(!0),te=de({elementType:Y,getSlotProps:A,externalForwardedProps:I,ownerState:v,additionalProps:{ref:n},className:[L.root,m]}),oe=H=>{w(!0),O&&O(H)},ne=(H,ae)=>{w(!1),c&&c(H,ae)};return!R&&l?null:o(ue,g({onClickAway:F},S,{children:o(Y,g({},te,{children:o(r,g({appear:!0,in:R,timeout:s,direction:C==="top"?"down":"up",onEnter:ne,onExited:oe},P,{children:h||o(We,g({message:M,action:p},D))}))}))}))}),Ge=Ue,Ve=Q(o("path",{d:"M13 3h-2v10h2zm4.83 2.17-1.42 1.42C17.99 7.86 19 9.81 19 12c0 3.87-3.13 7-7 7s-7-3.13-7-7c0-2.19 1.01-4.14 2.58-5.42L6.17 5.17C4.23 6.82 3 9.26 3 12c0 4.97 4.03 9 9 9s9-4.03 9-9c0-2.74-1.23-5.18-3.17-6.83"}),"PowerSettingsNew"),X=Q(o("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),qe=({open:e,handleClose:t})=>{const[n,a]=d.exports.useState(!1),[i,u]=d.exports.useState(""),[p,C]=d.exports.useState(""),[f,x]=d.exports.useState(!1),[h,m]=d.exports.useState(!1),{signout:S,deactivateAccount:D}=pe(),{enqueueSnackbar:b}=ge(),[M,R]=d.exports.useState(""),r=Z(),s=v=>{u(v.target.value),C("")},c=async()=>{if(!i){b("La contrase\xF1a es obligatoria.",{variant:"error"}),m(!0);return}x(!0)},O=async()=>{var v,L,A,F;try{const l=await D(i);if(console.log("Respuesta",l),(l==null?void 0:l.status)===200||((v=l==null?void 0:l.data)==null?void 0:v.success))b("Cuenta desactivada con \xE9xito",{variant:"success",autoHideDuration:5e3}),S(),r("/login");else{const w=((L=l==null?void 0:l.data)==null?void 0:L.message)||"Error desconocido";b(w,{variant:"error"})}}catch(l){const w=((F=(A=l.response)==null?void 0:A.data)==null?void 0:F.message)||l.message||"Error desconocido";b(w,{variant:"error"}),console.error(l)}},P=()=>{x(!1),u(""),t()},I=()=>{m(!1)};return k(ee,{children:[o(he,{open:e,onClose:t,sx:{bgcolor:"rgba(33, 33, 33, 0.7)",backdropFilter:"blur(4px)"},children:k($,{spacing:3,sx:{position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)",bgcolor:"white",padding:4,borderRadius:3,boxShadow:24,maxWidth:400,width:"100%"},children:[o(K,{sx:{position:"absolute",top:8,right:8},onClick:t,"aria-label":"Cerrar",children:o(Ce,{})}),o(T,{variant:"h6",sx:{fontWeight:"bold",textAlign:"center"},children:"Ingresa tu contrase\xF1a"}),o(T,{variant:"body1",sx:{color:"text.secondary",textAlign:"center"},children:"Para desactivar tu cuenta, por favor ingresa tu contrase\xF1a actual."}),o(be,{name:"password",label:"Contrase\xF1a",value:i,onChange:s,type:n?"text":"password",placeholder:"Ingresa tu contrase\xF1a",InputLabelProps:{shrink:!0},fullWidth:!0,variant:"outlined",sx:{backgroundColor:"#f4f4f9",borderRadius:2,"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"gray"},"&:hover fieldset":{borderColor:"blue"},"&.Mui-focused fieldset":{borderColor:"redRYB.main"},"&.Mui-error fieldset":{borderColor:"red"}}},InputProps:{endAdornment:o(xe,{position:"end",children:o(K,{onClick:()=>a(!n),edge:"end",children:n?o(fe,{}):o(me,{})})})}}),p&&o(T,{variant:"body2",color:"error",sx:{textAlign:"center"},children:p}),o(E,{variant:"contained",color:"error",fullWidth:!0,onClick:c,sx:{padding:"10px",fontWeight:"bold",textTransform:"none"},children:"Confirmar Desactivaci\xF3n"})]})}),k(ve,{open:f,onClose:P,PaperProps:{sx:{borderRadius:3,padding:2,maxWidth:400,width:"100%"}},children:[o(ke,{children:"\xBFDesactivar cuenta?"}),o(we,{children:o(Oe,{children:"\xBFEst\xE1s seguro de que deseas desactivar tu cuenta? Esta acci\xF3n no se puede deshacer."})}),k(ye,{children:[o(E,{onClick:P,color:"primary",children:"Cancelar"}),o(E,{onClick:O,color:"error",variant:"contained",children:"Desactivar"})]})]}),o(Ge,{open:h,autoHideDuration:3e3,onClose:I,message:M,action:o(E,{color:"inherit",onClick:I,children:"Cerrar"})})]})},N=y(E)(({theme:e})=>({color:e.palette.text.primary,backgroundColor:e.palette.grey[300],fontSize:"1.25rem",fontWeight:500,borderRadius:"30px",padding:"12px 24px",textTransform:"none",transition:"transform 0.3s, background-color 0.3s, box-shadow 0.3s, color 0.3s","&:hover":{backgroundColor:e.palette.grey[400],transform:"scale(1.1)",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.15)"}})),et=()=>{const[e,t]=d.exports.useState(!1),n=Z();return k(ee,{children:[k($,{spacing:3,sx:{padding:5,minHeight:"100vh",alignItems:"flex-start",backgroundColor:"common.black",paddingTop:"100px"},children:[o(T,{variant:"h4",gutterBottom:!0,color:"redRYB.main",sx:{marginTop:"50px"},children:"Configuraci\xF3n"}),k($,{sx:{width:"100%",minHeight:"100vh",backgroundColor:"white",padding:5,borderRadius:"8px",marginTop:"500px",marginBottom:"20px"},children:[o(W,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"5vh",marginBottom:5},children:o(N,{startIcon:o(X,{sx:{fontSize:20}}),variant:"contained",color:"primary",sx:{width:"400px",textOverflow:"ellipsis",padding:"10px 20px"},onClick:()=>{n("/ActualizarInfo")},children:"Actualizar Datos"})}),o(W,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"5vh",marginBottom:5},children:o(N,{startIcon:o(X,{sx:{fontSize:20}}),variant:"contained",color:"primary",sx:{width:"400px",textOverflow:"ellipsis",padding:"10px 20px"},onClick:()=>{n("/DatosFisicos")},children:"Actualizar datos f\xEDsicos"})}),o(W,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"5vh"},children:o(N,{onClick:()=>{t(!0)},startIcon:o(Ve,{sx:{fontSize:20}}),sx:{width:"400px",textOverflow:"ellipsis",padding:"10px 20px"},children:"Desactivar Cuenta"})})]})]}),o(qe,{open:e,handleClose:()=>t(!1)})]})};export{et as default};
//# sourceMappingURL=Settings.b72c0958.js.map
